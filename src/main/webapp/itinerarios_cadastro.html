<!DOCTYPE html> <!-- Define o tipo de documento como HTML -->
<html> <!-- Documento HTML -->
<head> <!-- Cabeçalho do documento -->
    <link rel="stylesheet" type="text/css" href="styles.css"> <!-- Link para o arquivo de estilos CSS -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script>
        // Quando o documento estiver pronto
        $(document).ready(function() {
            // Quando o valor do elemento com id "busSelect" mudar
            $("#Regiao").change(function() {
                // Obtém o valor do elemento com id "busSelect"
                var busName = $(this).val();
                // Faz uma solicitação GET para a rota "busRoute" (BusRouteServlet) com o nome do ônibus como parâmetro
                $.get("cadIntinerario", {busreginame: busName}, function(data) {
                // Acrescenta o novo conteúdo ao conteúdo existente (com uma quebra de linha entre eles)
                var newContent = data + "\n";
                var linhas = newContent.split("\n");
                
                var container = document.getElementById('checkboxContainer');
                container.innerHTML = ''; // Limpa o conteúdo do container


                    for (var i = 0; i < linhas.length; i++) {
                        var linha = linhas[i].trim(); // Remove espaços em branco extras
                        if (linha === "") continue; // Ignora linhas em branco

                        var checkbox = document.createElement('input');
                        checkbox.type = 'checkbox';
                        checkbox.id = 'checkbox_' + i; // Use um ID único para cada checkbox
                        checkbox.value = linha; // O valor do checkbox é a linha inteira

                        var label = document.createElement('label');
                        label.htmlFor = 'checkbox_' + i;
                        label.appendChild(document.createTextNode(linha));

                        container.appendChild(checkbox);
                        container.appendChild(label);
                        container.appendChild(document.createElement('br')); // Adiciona uma quebra de linha
                    }
                                    
                });
            });
        });
    </script>
</head>
<body> <!-- Corpo do documento -->
    <div id="header"></div> <!-- Divisão onde o cabeçalho será inserido -->
    <!-- Resto do conteúdo da página -->
    <div class="bodyCadLinha">
   
    <form class ="formCadLinha" id="CadastroDeLinhas">
   
        <p> <h1 class="H1Linha">Cadastro de Linha </h1></p>
       <p> <label for="nomeLinha">Nome da Linha </label> <input type="text" id="nomeLinha" ><br> </p>
        <p> <label for="numeroLinha">Numero </label> <input type="text" id="numeroLinha" ><br> </p>
        <p> <label for="Origem">Partida </label> <input type="text" id="Origem" ><br> </p>
        <p> <label for="Destino">Destino </label> <input type="text" id="Destino" ><br> </p>
        <p><label>Escolha a regiao: </label><select id="Regiao" name="regiao">
            <option value="">Selecione</option>
            <option value="ZONANORTE">ZONA NORTE</option>
            <option value="ZONASUL">ZONA SUL</option>
            <option value="ZONALESTE">ZONA LESTE</option>
            <option value="ZONAOESTE">ZONA OESTE</option>
        </select>
        </p>
        <p>
            <label>Pontos:</label><br>
        </p>
        <div id="checkboxContainer"></div>

        <p><label>Funcionamento:</label><br>
            <label for="Dom">Dom</label><input type="checkbox" id="Dom">
            <label for="Seg">Seg</label><input type="checkbox" id="Seg">
            <label for="Ter">Ter</label><input type="checkbox" id="Ter">
            <label for="Qua">Qua</label><input type="checkbox" id="Qua">
            <label for="Qui">Qui</label><input type="checkbox" id="Qui">
            <label for="Sex">Sex</label><input type="checkbox" id="Sex">
            <label for="Sab">Sab</label><input type="checkbox" id="Sab">
        </p>
    </form>
    </div>
    <!-- Divisão onde o footer será inserido -->
    <div id="footer"></div>

    <!-- Script do header -->
    <script>
        fetch('header.html') // Busca o arquivo header.html
        .then(response => response.text()) // Converte a resposta em texto
        .then(data => document.getElementById('header').innerHTML = data); // Insere o conteúdo do header.html na divisão com id="header"

        fetch('footer.html') // Busca o arquivo header.html
        .then(response => response.text()) // Converte a resposta em texto
        .then(data => document.getElementById('footer').innerHTML = data); // Insere o conteúdo do footer.html na divisão com id="footer"
    </script>
</body>
</html>